!function(t,r){"use strict";function e(e,i,o){var n=this,a=e.get(0);n.duration=i.duration,n.opacity=i.opacity,n.isShown=!1,t.isWindow(a)||9===a.nodeType?n.jqTarget=t("body"):"iframe"===a.nodeName.toLowerCase()||"frame"===a.nodeName.toLowerCase()?(n.jqWin=t(a.contentWindow),n.elmDoc=a.contentWindow.document,n.jqTarget=t("body",n.elmDoc),n.isFrame=!0):n.jqTarget=e,n.jqWin=n.jqWin||t(window),n.elmDoc=n.elmDoc||document,n.isBody="body"===n.jqTarget.get(0).nodeName.toLowerCase(),o&&(o.jqProgress&&(o.timer&&clearTimeout(o.timer),o.jqProgress.remove(),delete o.jqProgress),o.reset(!0),o.jqOverlay.stop()),n.jqOverlay=(o&&o.jqOverlay||t("<div />").css({position:n.isBody?"fixed":"absolute",left:0,top:0,display:"none",cursor:"wait"}).appendTo(n.jqTarget)).css({backgroundColor:i.color,zIndex:i.zIndex}),(n.jqProgress=i.progress===!1?r:"function"==typeof i.progress?i.progress.call(n.jqTarget,i):s(n))&&n.jqProgress.css({position:n.isBody?"fixed":"absolute",display:"none",zIndex:i.zIndex+1,cursor:"wait"}).appendTo(n.jqTarget),n.callAdjust=function(t){return t.adjustProgress?function(){t.adjustProgress(),t.adjust()}:function(){t.adjust()}}(n),n.avoidFocus=function(r){return function(e){return t(r.elmDoc.activeElement).blur(),e.preventDefault(),!1}}(n),n.avoidScroll=function(t){return function(r){return function(r){r.scrollLeft(t.scrLeft).scrollTop(t.scrTop)}(t.isBody?t.jqWin:t.jqTarget),r.preventDefault(),!1}}(n),o&&(o.timer&&clearTimeout(o.timer),o=r)}function i(r,i){var o=t.extend({duration:200,color:"#000",opacity:.3,zIndex:9e3},i);return r.each(function(){var r=t(this);r.data("plainOverlay",new e(r,o,r.data("plainOverlay")))})}function o(r,e){return r.each(function(){var r,o=t(this);(e||!(r=o.data("plainOverlay")))&&(r=i(o,e).data("plainOverlay")),r.show()})}function n(r){return r.each(function(){var r=t(this).data("plainOverlay");r&&r.hide()})}var s=function(){function e(r,e,i,o){return o="undefined"==typeof o?";":o,t.map(r,function(r){return t.map(e,function(t){return(i||"")+t+r}).join(o)}).join(o)}var i,o=["-webkit-","-moz-","-ms-","-o-",""],n="jQuery-plainOverlay-progress",s="."+n+"{"+e(["box-sizing:border-box"],["-webkit-","-moz-",""])+";width:100%;height:100%;border-top:3px solid #17f29b;"+e(["border-radius:50%"],o)+";-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);box-shadow:0 0 1px rgba(0,0,0,0);"+e(["animation-name:jQuery-plainOverlay-spin","animation-duration:1s","animation-timing-function:linear","animation-iteration-count:infinite"],o)+"}"+e(["keyframes jQuery-plainOverlay-spin{from{"+e(["transform:rotate(0deg)"],o)+"}to{"+e(["transform:rotate(360deg)"],o)+"}}"],o,"@","")+"."+n+"-legacy{width:100%;height:50%;padding-top:25%;text-align:center;white-space:nowrap;*zoom:1}."+n+"-legacy:after,."+n+'-legacy:before{content:" ";display:table}.'+n+"-legacy:after{clear:both}."+n+"-legacy div{width:18%;height:100%;margin:0 1%;background-color:#17f29b;float:left;visibility:hidden}."+n+"-1 div."+n+"-1,."+n+"-2 div."+n+"-1,."+n+"-2 div."+n+"-2,."+n+"-3 div."+n+"-1,."+n+"-3 div."+n+"-2,."+n+"-3 div."+n+"-3{visibility:visible}",a=function(){var t=Math.min(300,.9*(this.isBody?Math.min(this.jqWin.width(),this.jqWin.height()):Math.min(this.jqTarget.innerWidth(),this.jqTarget.innerHeight())));this.jqProgress.width(t).height(t),this.showProgress||this.jqProgress.children("."+n).css("borderTopWidth",Math.max(3,t/30))},d=function(t){var r=this;r.timer&&clearTimeout(r.timer),r.progressCnt&&r.jqProgress.removeClass(n+"-"+r.progressCnt),r.isShown&&(r.progressCnt=!t&&r.progressCnt<3?r.progressCnt+1:0,r.progressCnt&&r.jqProgress.addClass(n+"-"+r.progressCnt),r.timer=setTimeout(function(){r.showProgress()},500))};return function(e){var o,g;return"boolean"!=typeof i&&(i=function(){function t(t,r){return typeof t===r}function e(t,r){return!!~(""+t).indexOf(r)}function i(t){var i;for(i in t)if(!e(t[i],"-")&&d[t[i]]!==r)return!0;return!1}function o(t){var r=t.charAt(0).toUpperCase()+t.slice(1),e=(t+" "+c.join(r+" ")+r).split(" ");return i(e)}var n,s,a=document.createElement("modernizr"),d=a.style,g="Webkit Moz O ms",c=g.split(" "),l={},h={}.hasOwnProperty,u=t(h,"undefined")||t(h.call,"undefined")?function(r,e){return e in r&&t(r.constructor.prototype[e],"undefined")}:function(t,r){return h.call(t,r)};l.borderradius=function(){return o("borderRadius")},l.cssanimations=function(){return o("animationName")},l.csstransforms=function(){return!!o("transform")},n=!1;for(s in l)if(u(l,s)&&!l[s]()){n=!0;break}return d.cssText="",a=null,n}()),e.elmDoc.getElementById("jQuery-plainOverlay")||(e.elmDoc.createStyleSheet?(g=e.elmDoc.createStyleSheet(),g.owningElement.id="jQuery-plainOverlay",g.cssText=s):(g=(e.elmDoc.getElementsByTagName("head")[0]||e.elmDoc.documentElement).appendChild(e.elmDoc.createElement("style")),g.type="text/css",g.id="jQuery-plainOverlay",g.textContent=s)),i?(o=t('<div><div class="'+n+'-legacy"><div class="'+n+'-3" /><div class="'+n+'-2" /><div class="'+n+'-1" /><div class="'+n+'-2" /><div class="'+n+'-3" /></div></div>'),e.showProgress=d):o=t('<div><div class="'+n+'" /></div>'),e.adjustProgress=a,o}}();e.prototype.show=function(){var e,i,o,n,s,a=this;a.reset(!0),e=a.jqTarget.get(0).style,a.orgPosition=e.position,i=a.jqTarget.css("position"),"relative"!==i&&"absolute"!==i&&"fixed"!==i&&a.jqTarget.css("position","relative"),a.orgOverflow=e.overflow,o=a.jqTarget.prop("clientWidth"),n=a.jqTarget.prop("clientHeight"),a.jqTarget.css("overflow","hidden"),o-=a.jqTarget.prop("clientWidth"),n-=a.jqTarget.prop("clientHeight"),a.addMarginR=a.addMarginB=0,0>o&&(a.addMarginR=-o),0>n&&(a.addMarginB=-n),a.isBody?(a.addMarginR&&(a.orgMarginR=e.marginRight,a.jqTarget.css("marginRight","+="+a.addMarginR)),a.addMarginB&&(a.orgMarginB=e.marginBottom,a.jqTarget.css("marginBottom","+="+a.addMarginB))):(a.addMarginR&&(a.orgMarginR=e.paddingRight,a.orgWidth=e.width),a.addMarginB&&(a.orgMarginB=e.paddingBottom,a.orgHeight=e.height)),a.jqActive=r,s=t(a.elmDoc.activeElement),a.isBody&&!a.isFrame?a.jqActive=s.blur():a.jqTarget.has(s.get(0)).length&&s.blur(),a.jqTarget.focusin(a.avoidFocus),function(t){a.scrLeft=t.scrollLeft(),a.scrTop=t.scrollTop(),t.scroll(a.avoidScroll)}(a.isBody?a.jqWin:a.jqTarget),a.jqWin.resize(a.callAdjust),a.callAdjust(),a.isShown=!0,a.jqOverlay.stop().fadeTo(a.duration,a.opacity),a.jqProgress&&(a.showProgress&&a.showProgress(!0),a.jqProgress.fadeIn(a.duration))},e.prototype.hide=function(){var t=this;t.isShown&&(t.jqOverlay.stop().fadeOut(t.duration,function(){t.reset()}),t.jqProgress&&t.jqProgress.fadeOut(t.duration))},e.prototype.adjust=function(){var t,r;this.isBody?(t=this.jqWin.width(),r=this.jqWin.height(),this.jqOverlay.width(t).height(r),this.jqProgress&&this.jqProgress.css({left:(t-this.jqProgress.outerWidth())/2,top:(r-this.jqProgress.outerHeight())/2})):(this.addMarginR&&(t=this.jqTarget.css({paddingRight:this.orgMarginR,width:this.orgWidth}).width(),this.jqTarget.css("paddingRight","+="+this.addMarginR).width(t-this.addMarginR)),this.addMarginB&&(r=this.jqTarget.css({paddingBottom:this.orgMarginB,height:this.orgHeight}).height(),this.jqTarget.css("paddingBottom","+="+this.addMarginB).height(r-this.addMarginB)),t=Math.max(this.jqTarget.prop("scrollWidth"),this.jqTarget.innerWidth()),r=Math.max(this.jqTarget.prop("scrollHeight"),this.jqTarget.innerHeight()),this.jqOverlay.width(t).height(r),this.jqProgress&&(t=this.jqTarget.innerWidth(),r=this.jqTarget.innerHeight(),this.jqProgress.css({left:(t-this.jqProgress.outerWidth())/2+this.scrLeft,top:(r-this.jqProgress.outerHeight())/2+this.scrTop})))},e.prototype.reset=function(t){var r=this;t&&(r.jqOverlay.css("display","none"),r.jqProgress&&r.jqProgress.css("display","none")),r.isShown&&(r.jqTarget.css({position:r.orgPosition,overflow:r.orgOverflow}),r.isBody?(r.addMarginR&&r.jqTarget.css("marginRight",r.orgMarginR),r.addMarginB&&r.jqTarget.css("marginBottom",r.orgMarginB)):(r.addMarginR&&r.jqTarget.css({paddingRight:r.orgMarginR,width:r.orgWidth}),r.addMarginB&&r.jqTarget.css({paddingBottom:r.orgMarginB,height:r.orgHeight})),r.jqTarget.off("focusin",r.avoidFocus),r.jqActive&&r.jqActive.length&&r.jqActive.focus(),function(t){t.off("scroll",r.avoidScroll).scrollLeft(r.scrLeft).scrollTop(r.scrTop)}(r.isBody?r.jqWin:r.jqTarget),r.jqWin.off("resize",r.callAdjust),r.isShown=!1)},t.fn.plainOverlay=function(t,r){return"show"===t?o(this,r):"hide"===t?n(this):i(this,t)}}(jQuery);